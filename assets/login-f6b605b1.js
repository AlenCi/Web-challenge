import{ae as c,af as l,j as o,W as d,k as g,a0 as p,T as h,ag as f}from"./index-0cb61db3.js";import{C as u}from"./Container-559170c4.js";class a extends Error{}a.prototype.name="InvalidTokenError";function m(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function x(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return m(e)}catch{return atob(e)}}function j(n,e){if(typeof n!="string")throw new a("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,r=n.split(".")[t];if(typeof r!="string")throw new a(`Invalid token specified: missing part #${t+1}`);let i;try{i=x(r)}catch(s){throw new a(`Invalid token specified: invalid base64 for part #${t+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new a(`Invalid token specified: invalid json for part #${t+1} (${s.message})`)}}function b(){const n=c(),{login:e}=l(),t=r=>{const i=j(r.credential);e(i),n("/")};return o.jsxs(o.Fragment,{children:[o.jsx(d,{children:o.jsx("title",{children:" Login | Minimal UI "})}),o.jsx(u,{maxWidth:"sm",children:o.jsx(g,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:o.jsxs(p,{elevation:3,sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx(h,{component:"h1",variant:"h5",sx:{mb:3},children:"Sign in"}),o.jsx(f,{onSuccess:t,onError:()=>{console.log("Login Failed")}})]})})})]})}export{b as default};
